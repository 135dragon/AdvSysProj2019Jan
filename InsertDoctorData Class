package doctoroffice;

import java.sql.SQLException;
import connector.DataBaseConnector;
import java.util.ArrayList;
import javafx.scene.control.CheckBox;
import javafx.scene.control.ComboBox;
import javafx.scene.control.TextField;

/**
 *
 * @author Charles Hulett
 */
public class InsertDoctorData 
{
    private TextField tffName = new TextField();
    private TextField tflName = new TextField();
    private CheckBox cbMonday = new CheckBox();
    private CheckBox cbTuesday = new CheckBox();
    private CheckBox cbWednesday = new CheckBox();
    private CheckBox cbThursday = new CheckBox();
    private CheckBox cbFriday = new CheckBox();
    private ComboBox specialitiesList = new ComboBox();
    private Specialty specialty = new Specialty();
    private Doctor doctor = new Doctor();
    private ArrayList<Doctor> doctors = new ArrayList<>();
    private ArrayList<Specialty> specialities = new ArrayList<>();
    private DataBaseConnector dbConnect = new DataBaseConnector();
    
    public void insertDocData()
    {
        String queryString = "insert into Doctor (fName, lName, Speciality, Monday, Tuesday, Wednesday, Thursday, Friday) VALUES ('" + tffName.getText() + "', "
                + "'" + tflName.getText() + "','" + specialitiesList.getSelectionModel().getSelectedItem().toString() + "', " + cbMonday.isSelected() + ", " + cbTuesday.isSelected() + ""
                + ", " + cbWednesday.isSelected() + ""
                + ", " + cbThursday.isSelected() + ""
                + ", " + cbFriday.isSelected() + ")";
            doctor.setFName(tffName.getText());
            doctor.setLName(tflName.getText());
        if(specialitiesList.getValue().equals("Cardiologist"))
        {
            specialty.setSpecialtyID(1);
            specialty.setSpecialtyName(String.valueOf(specialitiesList.getValue()));
            specialities.add(specialty);
            doctor.setSpecialty(specialty);
        }
        if(specialitiesList.getValue().equals("Dermatologist"))
        {
            specialty.setSpecialtyID(2);
            specialty.setSpecialtyName(String.valueOf(specialitiesList.getValue()));
            specialities.add(specialty);
            doctor.setSpecialty(specialty);
        }
        if(cbMonday.isSelected())
            doctor.setSchedule("Monday");
        if(cbTuesday.isSelected())
            doctor.setSchedule("Tuesday");
        if(cbWednesday.isSelected())
            doctor.setSchedule("Wednesday");
        if(cbThursday.isSelected())
            doctor.setSchedule("Thursday");
        if(cbFriday.isSelected())
            doctor.setSchedule("Friday");
        
        doctors.add(doctor);
        
        try 
        {
            dbConnect.getStmt().executeUpdate(queryString);
        } 
        catch (SQLException ex) 
        {}
        System.out.println("Inserted");
    }
}
