package doctoroffice;

import java.io.FileNotFoundException;
import java.util.ArrayList;
import javafx.application.Application;
import javafx.event.ActionEvent;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.ComboBox;
import javafx.scene.control.Label;
import javafx.scene.control.TextField;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.HBox;
import javafx.scene.layout.VBox;
import javafx.scene.paint.Color;
import javafx.scene.text.Font;
import javafx.scene.text.FontPosture;
import javafx.scene.text.Text;
import javafx.stage.Stage;


public class DoctorOffice extends Application 
{

    HBox top, bottom;
    VBox left = new VBox(), right = new VBox(), center = new VBox();
    ArrayList<Patient> patients = new ArrayList<>(8);  //Patients Class            DEMO
    ArrayList<Doctor> doctors = new ArrayList<>(10);   //Doctors Class             DEMO
    ArrayList<Calendar> events = new ArrayList<>(4);    //Events Class (for calendar)DEMO

    @Override
    public void start(Stage primaryStage) 
    {

        BorderPane root = new BorderPane();
        ComboBox comboPatient = new ComboBox();
        
        Label lblPatient = new Label("What would you like to do?");
        Label lblPatID = new Label("Enter the patient ID");
        
        TextField tfPatient = new TextField();
        
        Button pat = new Button("Patients");
        Button doc = new Button("Doctors");
        Button cal = new Button("Calendar");
        
        String viewPatient = "View Patient";
        String addPatient = "Add Patient";
        String removePatient = "Remove Patient";
        
        try 
        {
            top = createTop();
            root.setTop(top);
        } 
        catch (FileNotFoundException e) 
        {
            System.err.println("Err");
        }
        
        
        createLeft(pat, doc, cal);
        createCenter();
        root.setBottom(bottom);
        root.setLeft(left);
        root.setCenter(center);
        root.setRight(right);

        Scene scene = new Scene(root, 300, 250);

        primaryStage.setTitle("Hello World!");
        primaryStage.setScene(scene);
        primaryStage.show();
        
        pat.setOnAction(
        event -> 
        {
            pat.setText("Patients (Selected)");
            doc.setText("Doctors");
            cal.setText("Calendar");
            patCenter(comboPatient, lblPatient, viewPatient, addPatient, removePatient);
        });
        
        comboPatient.setOnAction(
        event ->
        {
            String selPatFunc = (String) comboPatient.getValue();
            patFunction(selPatFunc, lblPatID, tfPatient);
        });
    }
    
    public HBox createTop() throws FileNotFoundException 
    {
        HBox hbox = new HBox();
        hbox.setPadding(new Insets(15, 12, 15, 12));
        hbox.setSpacing(10);
        hbox.setStyle("-fx-background-color: #107076;");
        // Image

        // Text
        Text t = new Text("Name");
        t.setFont(Font.font("Verdana", FontPosture.ITALIC, 20));
        t.setFill(Color.WHITE);
        //

        hbox.getChildren().addAll(t);

        return hbox;
    }   //Done. All I have to do is change the image

    
    public void createLeft(Button pat, Button doc, Button cal) 
    {
        left.setPadding(new Insets(15, 12, 15, 12));
        left.setSpacing(10);
        left.setStyle("-fx-background-color: #107076;");
        left.getChildren().clear();
        //Buttons (Patients, Doctors, Calendar)

        left.getChildren().addAll(pat, doc, cal);

        doc.setOnAction((ActionEvent event) -> 
        {
            pat.setText("Patients");
            doc.setText("Doctors (Selected)");
            cal.setText("Calendar");
            docCenter();
        });
        cal.setOnAction((ActionEvent event) -> {
            pat.setText("Patients");
            doc.setText("Doctors");
            cal.setText("Calendar (Selected)");
            calCenter();
        });

    }

    //Default center when nothing is selected
    public void createCenter() 
    {
        center.getChildren().clear();
        center.setPadding(new Insets(15, 12, 15, 12));
        center.setAlignment(Pos.TOP_LEFT);
        center.setSpacing(5);
    }

    //This function clears current center and updates it to the center displaying all patients
    public void patCenter(ComboBox comboPatient, Label lblPatient, 
                          String viewPatient, String addPatient, 
                          String removePatient) 
    {
        center.getChildren().clear();
        center.setPadding(new Insets(0, 12, 15, 100));
        center.setAlignment(Pos.CENTER);
        center.setSpacing(5);

        int currDisplayed = 0;
        //ArrayList<HBox> rows = new ArrayList<>(0);
        comboPatient.getItems().addAll(viewPatient, addPatient, removePatient);
        comboPatient.getSelectionModel().selectFirst();
        
        //x.getChildren().add(new Text("\n Insert Code for Table Here"));
        center.getChildren().addAll(lblPatient, comboPatient);

    }
    private void patFunction(String selPatFunc, Label lblPatID, TextField tfPatient)
    {
        center.getChildren().clear();
        center.setPadding(new Insets(0, 12, 15, 100));
        center.setAlignment(Pos.CENTER);
        center.setSpacing(5);
        
        if(selPatFunc.equals("View Patient"))
            
            center.getChildren().addAll(lblPatID, tfPatient);
    System.out.println(selPatFunc);
    }

    //This function clears current center and updates it to the center displaying all doctors
    public void docCenter() 
    {
        center.getChildren().clear();
        center.setPadding(new Insets(15, 12, 15, 12));
        center.setAlignment(Pos.TOP_LEFT);
        center.setSpacing(5);

        int currDisplayed = 0;
        ArrayList<HBox> rows = new ArrayList<HBox>(0);
        HBox x = new HBox();
        Button add = new Button("+");
        Button remove = new Button("-");
        x.getChildren().addAll(new Text("Doctors"), add, remove);
        x.getChildren().add(new Text("\n Insert Code for Table Here"));
        center.getChildren().add(x);
    }

    //This function clears current center and updates it to the center displaying the calendar
    public void calCenter() {
        center.getChildren().clear();
        center.setPadding(new Insets(15, 12, 15, 12));
        center.setAlignment(Pos.TOP_LEFT);
        center.setSpacing(5);

        int currDisplayed = 0;
        ArrayList<HBox> rows = new ArrayList<HBox>(0);
        HBox x = new HBox();
        Button add = new Button("+");
        Button remove = new Button("-");
        x.getChildren().addAll(new Text("Calendar"), add, remove);
        x.getChildren().add(new Text("\n Insert Code for Calendar Here"));
        center.getChildren().add(x);
    }

    //
    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) 
    {
        launch(args);
    }
}
